<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Available Shoppers</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background-color: #fff;
      color: black;
    }

    .top-bar {
      background-color: #1c1c1c;
      color: white;
      padding: 8px 16px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 14px;
    }

    .content {
      padding: 20px;
    }

    h2 {
      text-align: center;
      font-weight: bold;
      font-size: 20px;
      margin-bottom: 30px;
    }

    .user-card {
      background-color: #d3d3d3;
      border-radius: 6px;
      padding: 10px 15px;
      margin-bottom: 20px;
    }

    .user-info {
      font-weight: bold;
      margin-bottom: 5px;
    }

    .stars {
      display: flex;
      cursor: pointer;
    }

    .star {
      font-size: 24px;
      color: gray;
      transition: color 0.2s;
      margin-right: 5px;
    }

    .selected {
      color: gold;
    }
  </style>
</head>
<body>
  <div id="app"></div>

  <script>
    // Create UI using JavaScript
    const app = document.getElementById("app");

    // Top Bar
    const topBar = document.createElement("div");
    topBar.className = "top-bar";
    topBar.innerHTML = `
      <div>ðŸ“¶ ðŸ””</div>
      <div><span>68%</span> ðŸ”‹ <span>11:52</span></div>
    `;
    app.appendChild(topBar);

    // Content Section
    const content = document.createElement("div");
    content.className = "content";
    app.appendChild(content);

    // Header
    const heading = document.createElement("h2");
    heading.textContent = "AVAILABLE SHOPPERS";
    content.appendChild(heading);

    // Load and Save Rating Functions
    function loadRating(userId) {
      return parseInt(localStorage.getItem(`rating_user_${userId}`)) || 0;
    }

    function saveRating(userId, rating) {
      localStorage.setItem(`rating_user_${userId}`, rating);
    }

    // Create a user card with star rating
    function createUserCard(userId) {
      const card = document.createElement("div");
      card.className = "user-card";

      const userInfo = document.createElement("div");
      userInfo.className = "user-info";
      userInfo.innerHTML = `ðŸ‘¤ USER ${userId}<br>RATINGS`;
      card.appendChild(userInfo);

      const starsContainer = document.createElement("div");
      starsContainer.className = "stars";
      starsContainer.dataset.user = userId;

      for (let i = 1; i <= 5; i++) {
        const star = document.createElement("span");
        star.className = "star";
        star.innerHTML = "â˜…";
        star.dataset.index = i;
        starsContainer.appendChild(star);
      }

      card.appendChild(starsContainer);
      content.appendChild(card);

      // Restore saved rating
      const savedRating = loadRating(userId);
      updateStarSelection(starsContainer, savedRating);

      // Click to rate
      starsContainer.querySelectorAll(".star").forEach(star => {
        star.addEventListener("click", () => {
          const rating = parseInt(star.dataset.index);
          updateStarSelection(starsContainer, rating);
          saveRating(userId, rating);
          console.log(`User ${userId} rated ${rating} star(s)`);
        });
      });
    }

    // Highlight selected stars
    function updateStarSelection(container, rating) {
      const stars = container.querySelectorAll(".star");
      stars.forEach((s, i) => {
        s.classList.toggle("selected", i < rating);
      });
    }

    // Create 4 user cards
    for (let i = 1; i <= 4; i++) {
      createUserCard(i);
    }
  </script>
</body>
</html>
